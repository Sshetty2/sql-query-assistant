{
  "decision": "proceed",
  "intent_summary": "Retrieve active users from specified companies with their company names",
  "selections": [
    {
      "table": "tb_Users",
      "alias": "u",
      "confidence": 0.9,
      "reason": "Main table containing user information",
      "include_only_for_join": false,
      "columns": [
        {
          "table": "tb_Users",
          "column": "ID",
          "role": "projection",
          "reason": "Primary key for user records",
          "value_type": "integer"
        },
        {
          "table": "tb_Users",
          "column": "FirstName",
          "role": "projection",
          "reason": "User's first name for display",
          "value_type": "string"
        },
        {
          "table": "tb_Users",
          "column": "CompanyID",
          "role": "filter",
          "reason": "Foreign key to join with tb_Company",
          "value_type": "integer"
        },
        {
          "table": "tb_Users",
          "column": "IsActive",
          "role": "filter",
          "reason": "May be used to filter active users if specified in query",
          "value_type": "boolean"
        },
        {
          "table": "tb_Users",
          "column": "CreatedOn",
          "role": "filter",
          "reason": "Timestamp column - may be used for time filtering by downstream agent",
          "value_type": "datetime"
        }
      ],
      "filters": [
        {
          "table": "tb_Users",
          "column": "IsActive",
          "op": "=",
          "value": 1,
          "source_text": "active users",
          "comment": "User explicitly asked for active users only"
        }
      ],
      "candidate_keys": {
        "primary_keys": ["ID"],
        "foreign_keys": ["CompanyID"]
      }
    },
    {
      "table": "tb_Company",
      "alias": "c",
      "confidence": 0.85,
      "reason": "Lookup table to get human-readable company name for CompanyID",
      "include_only_for_join": false,
      "columns": [
        {
          "table": "tb_Company",
          "column": "Name",
          "role": "projection",
          "reason": "Display company name instead of just CompanyID",
          "value_type": "string"
        }
      ],
      "filters": [],
      "candidate_keys": {
        "primary_keys": ["ID"]
      }
    }
  ],
  "global_filters": [
    {
      "table": "tb_Company",
      "column": "Name",
      "op": "in",
      "value": ["Cisco", "Microsoft", "Google"],
      "source_text": "from Cisco, Microsoft, or Google",
      "comment": "Filter to specific vendors mentioned by user"
    }
  ],
  "join_edges": [
    {
      "from_table": "tb_Users",
      "from_column": "CompanyID",
      "to_table": "tb_Company",
      "to_column": "ID",
      "join_type": "left",
      "reason": "Join to retrieve company name for each user",
      "confidence": 0.9
    }
  ],
  "group_by": null,
  "window_functions": [],
  "subquery_filters": [],
  "ctes": [],
  "ambiguities": [],
  "confidence": 0.85
}
